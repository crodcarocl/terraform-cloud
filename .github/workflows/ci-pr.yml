name: Terraform Pipeline

on:
  pull_request:
    branches:
      - main

jobs:
  terraform-pipeline:
    uses: crodcarocl/terraform-cloud/.github/workflows/ci.template.terraform.yml@ft/testing

  terraform-docs:
    needs: terraform-pipeline
    uses: crodcarocl/terraform-cloud/.github/workflows/ci.template.docs.yml@ft/testing
    with:
      resources-directory: "."